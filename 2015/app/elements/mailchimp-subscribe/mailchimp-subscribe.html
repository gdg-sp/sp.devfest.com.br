<dom-module id="mailchimp-subscribe">
    <style>
        :host {
            display: block;
            width: 100%;
        }

        .mc-embedded-subscribe-form paper-button {
            font-size: .9em;
        }

        paper-input-container {
            padding-bottom: 0;
            --paper-input-container-color: var(--mailchimp-color);
            --paper-input-container-focus-color: var(--mailchimp-color);
            --paper-input-container-input-color: var(--mailchimp-color);
        }

        paper-input-container,
        .mc-embedded-subscribe-form {
            width: 100%;
        }

        paper-input-container input,
        paper-input-container label {
          font-size: 14px !important;
        }

        .note-text {
            text-align: center;
        }
    </style>
    <template>
        <div id="mc_embed_signup" class="mc_embed_signup layout vertical center-center">
            <form action="{{ url }}" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="mc-embedded-subscribe-form validate" target="_blank" novalidate>
                <div class="mc-field-group layout vertical">
                    <paper-input-container no-label-float class="text-left">
                        <label>Seu e-mail</label>
                        <input is="iron-input" type="email" name="EMAIL" id="mce-EMAIL" autocomplete="off">
                        <paper-input-error>Informe um endereço de e-mail válido</paper-input-error>
                    </paper-input-container>
                    <paper-button class="self-end" on-click="submitForm">Assinar</paper-button>
                </div>
                <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups -->
                <div style="position: absolute; left: -5000px;">
                    <input type="text" name="{{ name }}" tabindex="-1">
                </div>
                <div class="mc-submit-group">
                    <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" style="display:none">
                </div>
            </form>
        </div>
    </template>
    <script>
        (function() {
            Polymer({
                is: 'mailchimp-subscribe',
                properties: {
                    url: String,
                    name: String
                },
                submitForm: function() {
                    ga('send', 'mailchimp-subscribe', 'button', 'click'); // jshint ignore:line
                    document.getElementById('mc-embedded-subscribe-form').submit();
                }
            });
        })();
    </script>
</dom-module>
