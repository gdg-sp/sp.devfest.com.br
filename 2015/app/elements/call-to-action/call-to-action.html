<dom-module id="call-to-action">
    <template>
        <style>
            :host {
                display: block;
                background: var(--default-primary-color);
            }

            .video-dialog,
            .video-dialog > * {
                margin: 0;
                padding: 0;
            }

            .fullvideo-container {
                z-index: 6;
                overflow: hidden;
            }

            .navbar-overlay {
                position: fixed !important;
                background: rgba(0, 0, 0, 0.5) !important;
                text-transform: uppercase;
                z-index: 9;
                color: #fff;
            }

            .text,
            .border-button-link {
                text-transform: uppercase;
                letter-spacing: .1em;
                color: #fff;
                font-size: 24px;
                font-weight: 100;
            }

            .call-to-action .heading {
                margin-bottom: 0;
            }

            .border-button-link {
                margin-top: 10px;
                padding: 8px 12px;
                border: 1px solid #fff;
                font-size: 18px;
            }

            @media (min-width: 768px) {
                .text {
                    font-size: 20px;
                    text-align: left;
                }
                .border-button-link {
                    margin: 0;
                }
            }
        </style>
        <div class="container container-narrow flex relative layout vertical-horizontal center-center">
            <h4 class="heading flex text self-center text-center">Veja como foi o DevFest SP 2014</h4>
             <paper-button class="white border-button open-dialog-button" on-tap="playVideo">Assista ao vídeo</paper-button>
        </div>
        <paper-dialog class="video-dialog fit" id="videoDialog" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
            <paper-toolbar class="navbar-overlay fit">
                <paper-icon-button icon="icons:arrow-back" on-tap="closeVideoCard"></paper-icon-button>
                <div class="title text-left">DevFest São Paulo 2014 - Highlights</div>
            </paper-toolbar>
            <div class="fullvideo-container fit">
                <google-youtube id="video" video-id="XmRjWIEt-58" fluid="true" autohide="1" chromeless="true"></google-youtube>
            </div>
        </paper-dialog>
    </template>
</dom-module>

<script>
    Polymer({
        is: 'call-to-action',
        playVideo: function() {
            ga('send', 'play-2014-video', 'button', 'click'); // jshint ignore:line

            this.$.videoDialog.open();
            this.$.video.play();
        },
        closeVideoCard: function() {
            this.$.videoDialog.close();
            this.$.video.pause();
            this.$.video.seekTo(0);
        }
    });
</script>
