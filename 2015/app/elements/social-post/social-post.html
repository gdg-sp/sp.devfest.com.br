<dom-module id="social-post">
    <style>
        :host {
            display: block;
            color: var(--social-font-color);
        }

        .post-meta,
        .post-meta > *,
        .post-content {
            display: block;
        }

        .post-content {
            margin-top: 5px;
            font-size: 20px;
            line-height: 1.2;
        }

        a {
            color: var(--social-font-color);
            font-weight: 100;
        }

        @media (min-width: 768px) {
            .post-content {
                margin-top: 10px;
            }
        }
    </style>
    <template>
        <span class="post-meta">
            <a href="{{canonicalUrl}}/{{author}}" target="_blank">
                <span>{{sign}}</span><span>{{author}}</span>
            </a>
            <time is="time-ago" datetime="{{when}}"></time>
        </span>
        <span id="postContent" class="post-content"></span>
    </template>
</dom-module>

<script src="../../bower_components/time-elements/time-elements.js"></script>

<script>
    Polymer({
        is: 'social-post',
        properties: {
            author: {
                type: String
            },
            url: {
                type: String
            },
            text: {
                type: String,
                observer: '_textChanged'
            },
            when: {
                type: Date
            },
            canonicalUrl: {
                type: String
            },
            sign: {
                type: String
            }
        },
        _textChanged: function() {
            this.$.postContent.innerHTML = this.text;
        }
    });
</script>
